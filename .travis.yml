sudo: required
language: python
python:
  - 3.5
notifications:
  email: false

before_install:
  - sudo add-apt-repository multiverse
  - sudo add-apt-repository restricted
  - sudo apt-get install -y libnova-dev libcfitsio3-dev libusb-1.0-0-dev zlib1g-dev libgsl0-dev build-essential cmake git libjpeg-dev libcurl4-gnutls-dev
  - sudo apt-get install -y swig
  - git clone https://github.com/indilib/indi.git
  - cd indi
  - mkdir -p build/libindi
  - cd build/libindi
  - cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=Debug ../../libindi
  - make
  - sudo make install
  - cd ../../..

# command to install dependencies
install: "pip install -r requirements.txt"
# command to run tests
script: 
  - cd operations/ekos
  -  python3 -m unittest
